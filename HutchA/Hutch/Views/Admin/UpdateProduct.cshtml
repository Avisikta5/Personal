@model IEnumerable<Hutch.Models.Product>

@{
    ViewBag.Title = "UpdateProduct";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}
<link href="~/Content/Styles/Admin/UpdateProduct.css" rel="stylesheet" />

<main class="admin-update-products-container">

    <div class="update-products">
        @foreach (var product in Model)
        {
            var base64 = Convert.ToBase64String(product.p_image);
            var imagesrc = string.Format("data: image/gif; base64, {0}", base64);
            <div class="product-card">
                <div>
                    <img src="@imagesrc" alt="@product.p_name"/>
                </div>
                <div class="product-details">

                    <div class="product-name">
                        <h6>@product.p_name</h6>

                        <a href="@Url.Action("EditProduct" , "Admin", new {id = product.pid})">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#000000" viewBox="0 0 256 256">
                                <path d="M224.49,76.2,179.8,31.51a12,12,0,0,0-17,0L39.51,154.83A12,12,0,0,0,36,163.31V208a12,12,0,0,0,12,12H92.69a11.93,11.93,0,0,0,8.48-3.51l88.67-88.67,5.73,23-38.39,38.4a4,4,0,1,0,5.65,5.66l40-40a4,4,0,0,0,1.06-3.8l-7.46-29.8,28.06-28.06A12,12,0,0,0,224.49,76.2ZM44,208V169.66L86.35,212H48A4,4,0,0,1,44,208Zm52,2.34L45.66,160,136,69.66,186.35,120ZM218.83,87.51,192,114.34,141.66,64l26.83-26.83a4,4,0,0,1,5.66,0l44.68,44.69A4,4,0,0,1,218.83,87.51Z"></path>
                            </svg>
                        </a>
                    </div>

                    @if (product.p_desc.Length > 183)
                    {
                        <p>
                            @product.p_desc.Substring(0, 181)...
                        </p>
                    }
                    else
                    {
                        <p>
                            @product.p_desc
                        </p>
                    }

                    <div class="product-utilities">
                        <span>Pricing: @product.p_price</span>
                        <span>In Stock: @product.p_qty</span>
                    </div>

                </div>
            </div>
        }
    </div>
</main>
